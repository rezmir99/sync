#v1.0.0-alpha.7
# paqet Server Configuration Example
# Role must be explicitly set
role: "server"

# Logging configuration
log:
  level: "info"  # none, debug, info, warn, error, fatal

# Server listen configuration
listen:
  addr: ":9999"  # CHANGE ME: Server listen port (must match network.local_addr port)

# Network interface settings
network:
  interface: "eth0"                          # CHANGE ME: Network interface (eth0, ens3, en0, etc.)

  # IPv4 configuration
  ipv4:
    addr: "91.98.128.91:9999"                  # CHANGE ME: Server IPv4 and port (port must match listen.addr)
    router_mac: "d2:74:7f:6e:37:e3"          # CHANGE ME: Gateway/router MAC address

  # IPv6 configuration (optional)
  ipv6:
    addr: "[::1]:9999"                       # CHANGE ME: Server IPv6 and port (or remove if not using IPv6)
    router_mac: "aa:bb:cc:dd:ee:ff"          # CHANGE ME: Gateway/router MAC address

  # TCP flags for packet crafting (optional - will use defaults)
  tcp:
    local_flag: ["PA"]                       # Local TCP flags (Push+Ack default)

  # PCAP settings (optional - will use defaults)
  pcap:
    sockbuf: 8388608                         # 8MB buffer (default for server)

# Transport protocol configuration
transport:
  protocol: "kcp"  # Transport protocol (currently only "kcp" supported)
  conn: 16          # Number of connections (1-256, default: 1)

  # KCP protocol settings
  kcp:
    mode: "fast"           # KCP mode: normal, fast, fast2, fast3
    mtu: 1350              # Maximum transmission unit (50-1500)
    rcvwnd: 1024           # Receive window size (default for server)
    sndwnd: 1024           # Send window size (default for server)

    # Encryption settings
    block: "aes"                    # Encryption: none, aes, blowfish, cast5, sm4, salsa20, etc.
    key: "1c6732917f51f4aa6a7b55a0944820e90d1d5c8e0555c00166b83f0d25870dd1"     # CHANGE ME: Secret key (must match client)

    # Buffer settings (optional - good defaults provided)
    smuxbuf: 4194304       # 4MB SMUX buffer
    streambuf: 2097152     # 2MB stream buffer

# Optional Forward Error Correction (FEC) - currently disabled
# Use these only if you need FEC for very lossy networks:
#   dshard: 10    # Data shards for FEC
#   pshard: 3     # Parity shards for FEC

# Important: Server Firewall Configuration Required!
#
# Since paqet uses pcap to bypass standard firewalls, you MUST configure
# iptables on the server to prevent kernel interference:
#
# sudo iptables -t raw -A PREROUTING -p tcp --dport 9999 -j NOTRACK
# sudo iptables -t raw -A OUTPUT -p tcp --sport 9999 -j NOTRACK
# sudo iptables -t mangle -A OUTPUT -p tcp --sport 9999 --tcp-flags RST RST -j DROP
#
# Replace 9999 with your actual listen port.
root@cloud-2a82df14286d5:~# ^C
root@cloud-2a82df14286d5:~#
logout
Connection to 91.98.128.91 closed.
~ 15:36 $ sshserver server2
server password: Tune@7080
root@193.151.140.251's password:
Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.8.0-90-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Thu Feb  5 03:36:20 PM +0330 2026

  System load:  0.53               Processes:               206
  Usage of /:   31.9% of 22.78GB   Users logged in:         0
  Memory usage: 38%                IPv4 address for ens192: 193.151.140.251
  Swap usage:   0%

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

26 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

1 additional security update can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


*** System restart required ***
Last login: Thu Feb  5 00:08:04 2026 from 5.217.96.206
root@myhost2:~# cat paqet/^C
root@myhost2:~# xlip
Command 'xlip' not found, did you mean:
  command 'clip' from deb geomview (1.9.5-4)
  command 'xclip' from deb xclip (0.13-2)
  command 'xzip' from deb xzip (1:1.8.2-4build1)
  command 'flip' from deb flip (1.20-5)
  command 'xli' from deb xli (1.17.0+20061110-8)
  command 'xflip' from deb xflip (1.01-30)
Try: apt install <deb name>
root@myhost2:~# cat paqet/config.yaml
# paqet Client Configuration Example
# Role must be explicitly set
role: "client"

# Logging configuration
log:
  level: "info"  # none, debug, info, warn, error, fatal

# SOCKS5 proxy configuration (client mode)
#socks5:
#  - listen: "127.0.0.1:1080"    # SOCKS5 proxy listen address
#    username: ""                # Optional SOCKS5 authentication
#    password: ""                # Optional SOCKS5 authentication
forward:
   - listen: "0.0.0.0:443"  # Local port to listen on
     target: "127.0.0.1:2083"    # Target to forward to (via server)
     protocol: "tcp"           # Protocol (tcp/udp)

# Alternative: Port forwarding configuration (instead of SOCKS5)
# forward:
#   - listen: "127.0.0.1:8080"  # Local port to listen on
#     target: "127.0.0.1:80"    # Target to forward to (via server)
#     protocol: "tcp"           # Protocol (tcp/udp)

# Network interface settings
network:
  interface: "ens192"                          # CHANGE ME: Network interface (en0, eth0, wlan0, etc.)

  # IPv4 configuration
  ipv4:
    addr: "193.151.140.251:0"                 # CHANGE ME: Local IP (use port 0 for random port)
    router_mac: "02:50:56:56:44:52"         # CHANGE ME: Gateway/router MAC address

  # IPv6 configuration (optional)
  ipv6:
    addr: "[2001:db8::1]:0"                 # CHANGE ME: Local IPv6 address and port (optional)
    router_mac: "aa:bb:cc:dd:ee:ff"         # CHANGE ME: Gateway/router MAC address for IPv6

  tcp:
    local_flag: ["PA"]                      # Local TCP flags (Push+Ack default)
    remote_flag: ["PA"]                     # Remote TCP flags (Push+Ack default)

  # PCAP settings (optional - will use defaults)
  pcap:
    sockbuf: 4194304                        # 4MB buffer (default for client)

# Server connection settings
server:
  addr: "91.98.128.91:9999"  # CHANGE ME: paqet server address and port

# Transport protocol configuration
transport:
  protocol: "kcp"  # Transport protocol (currently only "kcp" supported)
  conn: 16          # Number of connections (1-256, default: 1)

  # KCP protocol settings
  kcp:
    mode: "fast"           # KCP mode: normal, fast, fast2, fast3
    mtu: 1350              # Maximum transmission unit (50-1500)
    rcvwnd: 512            # Receive window size (default for client)
    sndwnd: 512            # Send window size (default for client)

    # Encryption settings
    block: "aes"                    # Encryption: none, aes, blowfish, cast5, sm4, salsa20, etc.
    key: "1c6732917f51f4aa6a7b55a0944820e90d1d5c8e0555c00166b83f0d25870dd1"     # CHANGE ME: Secret key (must match server)

    # Buffer settings (optional - good defaults provided)
    smuxbuf: 4194304       # 4MB SMUX buffer
    streambuf: 2097152     # 2MB stream buffer

# Optional Forward Error Correction (FEC) - currently disabled
# Use these only if you need FEC for very lossy networks:
#   dshard: 10    # Data shards for FEC
#   pshard: 3     # Parity shards for FEC